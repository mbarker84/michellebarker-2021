.c-projects {
  @media (min-width: $md) {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }

  @media (min-width: $lg) {
    display: flex;
  }
}

.c-projects__item {
  @media (min-width: $lg) {
    flex: 0 0 calc(50% - 0.5rem);
  }
}

.c-projects__img-wrapper {
  overflow: hidden;
  filter: grayscale(100%);
  transition: transform 600ms cubic-bezier(0.26, 0.09, 0.41, 0.99);
  -webkit-clip-path: var(--clip);
  clip-path: var(--clip);
}

.c-projects__fig {
  --clip: polygon(0 0%, 95% 5%, 100% 100%, 5% 95%);

  position: relative;
  transform-style: preserve-3d;
  perspective-origin: 50rem;

  img {
    width: 100%;
    height: auto;
  }

  &:hover,
  &:focus {
    .c-projects__img-wrapper,
    .c-projects__img-wrapper-outer::after {
      transform: rotate3d(1, 2, 0, -20deg);
    }

    .c-projects__img-wrapper-outer::before {
      transform: rotate3d(1, 2, 0, 22deg) translate3d(0, 0, -3rem);
    }
  }
}

.c-projects__img-wrapper-outer {
  position: relative;

  &::before,
  &::after {
    content: '';
    position: absolute;
    height: 100%;
    width: 100%;
    top: 1rem;
    left: -1rem;
    background-color: var(--accent);
    -webkit-clip-path: var(--clip);
    clip-path: var(--clip);
    transition: transform 600ms cubic-bezier(0.26, 0.09, 0.61, 0.99);
  }

  &::after {
    background: linear-gradient(45deg, var(--accent), orange);
    opacity: 0.4;
    inset: 0;
  }
}

.c-projects__caption {
  padding-left: 1rem;
  margin-top: 1.5rem;

  a {
    text-decoration-color: var(--accent);
    transition: color 200ms;

    &:hover,
    &:focus {
      color: var(--accent);
    }

    &::after {
      content: '';
      position: absolute;
      inset: 0;
    }
  }
}
